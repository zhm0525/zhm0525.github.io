---
layout: post
title: "避免以UI为驱动的开发"
date: 2015-10-27 20:13:44 +0800
comments: true
categories: 项目管理 Android iOS
---

![0](/images/blog/coffee-smartphone-desk-pen_800_1200.jpg)

  这也是我本人在初入职场时候犯的错误，现在算是一种反思。然而我发现很多人也在遇到同样的问题，多出在客户端或前端的新手工程师，在组织较为松散的小公司等。

1.什么是避免以UI为驱动的开发
  以交互设计图或视觉设计图来驱动开发的方式。工程师照着设计图来估计工程排期，优先进行界面的开发，以界面为入口再完成背后相应的逻辑。

2.造成这种开发方式的原因
  首先是项目流程管理的问题，一些小公司或团队缺少规范的项目开发规则，同时特别追求速度，敏捷开发到了大家手里除了快就没剩下什么。所以中间能省略的东西全部都省略了，例如项目的详细设计文档。但是交互和视觉设计图不能省略，这是作为设计师的最终交付，而不是像设计文档之类只是内部使用或者说是工程师的中间产出。这导致了工程师是从拿到一批设计图之后开始考虑开发的问题，很容易导致工程师先从码界面开始做起。
  其次就是工程师本身的问题。由于经验的不足导致没有按照一个合理的开发流程进行开发。值得注意的是，几乎所有的Android或iOS的入门书籍都是第一章教搭环境，第二章教界面布局。这对于初学者有一定的合理性，因为这部分内容相对比较简单直接，可以看到效果。但是实际做项目不能以界面先行。如果客户端工程师的工作只是写布局，那Android和iOS真的可以5天速成了。工程师本身的经验和成长需要些时间，但界面入手做项目这件事应该尽早避免。
  最后还有一个原因是团队其他的成员对技术不了解。在非工程师的眼中，只有UI是直接感知到的，后面所有的逻辑都是黑盒的状态。他们可以对UI指手画脚，但是对背后的通信协议，多线程和内存管理几乎一无所知。更有甚的是一些非技术出身的项目经理依靠客户端页面的数量来估算工作量，难道一个关于页面和帐号登录页面需要同样的时间搞定？

3.以UI驱动的开发方式的危害
  项目完成时间的估计基本不靠谱。甚至在开发已经进行了一段时间之后，时间估计还是不靠谱。之前有说过，写界面相对容易，而且容易见成效。与此同时，项目组一群对非技术人员会根据界面的完成度，产生项目会很快完成的乐观态度，其实只是一种假象。在后续的开发中，工程师不断会受到团队其他人的催促——“不是很快就要做完了吗？”从而不断加班赶工，却总也追不上大家的期望。另一方面，设计师们也不会闲着，他们还会对之前的界面不断修改，更加导致工程师业务逻辑没写完，界面还要不断修改的双线打击中，项目开发处于一种失控的状态。
  不仅如此，因为以UI为入口写逻辑，很容易导致业务逻辑与视图部分间的耦合，导致代码结构的混乱，可读性，可扩展性都受到了很大的限制。

4.如何避免和改进
  项目流程当然需要改善，但由于项目组其他人很难留意到具体技术方面的问题，开发人员应该首先意识到合理的开发流程，并给项目组解释需要多久开发时间的原因和潜在的风险。
  应用程序基本上都是做了这三件事：数据的存储，数据的处理，以及数据的展示。在开发过程中要大体按照这样的顺序来进行。先有地基才有高楼，最后才是装修装饰，不可倒置。所以前期确定了数据模型之后，可以着手考虑数据持久化和缓存的问题，尤其图片和文件的问题，网络请求和数据解析的问题。另外，一些核心的模块和功能也应该早于界面来开发，例如定位模块，打点模块等。最后才是UI，因为简单，因为会被不断修改，因为即使出了问题，所有人都会看到告诉你需要修改。